<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	
	<link href='https://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'>
	<link rel="alternate" type="application/rss+xml" title="The Blog of Ben Dodson - iPhone Developer and WallaBee Founder" href="https://bendodson.com/rss.xml" />
	<link rel="stylesheet" href="/styles-2016-04-18.css" />
	<link rel="stylesheet" href="/highlight.css" />
	<link rel="icon" href="https://bendodson.s3.amazonaws.com/bendodson.com/favicon.ico">
	<link rel="apple-touch-icon" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-iphone.png">
	<link rel="apple-touch-icon" sizes="76x76" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-ipad.png">
	<link rel="apple-touch-icon" sizes="120x120" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-iphone-retina.png">
	<link rel="apple-touch-icon" sizes="152x152" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-ipad-retina.png">
	<link rel="apple-touch-icon" sizes="180x180" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-ipad-retina.png">
	<title>Ben Dodson's Blog &mdash; Freelance Swift Developer and WallaBee Founder</title>
</head>
<body>

	<div id="wrapper">

		<header>
			<hgroup>
				<h1><a href="/">Ben Dodson</a></h1>
				<h2>Freelance iOS, Apple Watch, and Apple TV Developer</h2>
			</hgroup>
			<nav>
				<ul>
					<li><a href="/">Home</a></li><li><a href="/weblog/">Blog</a></li><li><a href="/about/">About</a></li><li><a href="/clients/">Portfolio</a></li><li><a href="/apps/">My Apps</a></li><li><a href="/projects/">Projects</a></li><li><a href="/contact/">Contact</a></li>
				</ul>
				<div class="divider"></div>
			</nav>
		</header>

		<section id="posts">

	
	<article>
		<header>
     		
				<h1><a href="/weblog/2015/07/28/the-mobile-web/">The mobile web</a></h1>
			
			<time datetime="2015-07-28" pubdate=""><a href="/weblog/2015/07/28/the-mobile-web/">July 28, 2015</a></time>
    	</header>
    	<div>
			<p>There has been a huge amount of talk over the past couple of weeks about mobile browsers mainly due to two announcements at WWDC; <a href="https://www.webkit.org/blog/3476/content-blockers-first-look/">Content Blockers in Safari</a> and <a href="https://www.apple.com/news/">Apple News</a>. This has led to discussion of mobile ads as it has been discovered there are huge speed boosts to be made when certain elements are blocked (for example, the <a href="http://murphyapps.co/blog/2015/6/24/an-hour-with-safari-content-blocker-in-ios-9">iMore site weighs 14MB</a> for something that is essentially plaintext). The thing that got me was when Niley Patel of The Verge created an article called “<a href="http://www.theverge.com/2015/7/20/9002721/the-mobile-web-sucks">The mobile web sucks</a>” whilst failing to notice the irony that the article he created <a href="http://blog.lmorchard.com/2015/07/22/the-verge-web-sucks/">takes 30s to load, and fetches 9.5MB across 263 HTTP requests</a>. The bit that irritated me though was this passage:</p>

<blockquote>
  <p>Similarly, Apple News lets you publish directly onto iPhones, bypassing Apple’s own Safari browser, which feels mildly crazy. Yet there’s some excitement over this: I just read Ben Thompson’s excellent piece explaining how the ad market for smaller publishers leads inexorably to bloated web pages that load poorly. That piece was itself a response to John Gruber saying that Apple’s new Safari Content Blocker system would cause a “reckoning” for publishers by letting users block performance-degrading Javascript. And yes, most commercial web pages are overstuffed with extremely complex ad tech, but it’s a two-sided argument: we should expect browser vendors to look at the state of the web and push their browsers to perform better, just as we should expect web developers to look at browser performance and trim the fat. But right now, the conversation appears to be going in just one direction.</p>
</blockquote>

<blockquote>
  <p>And that’s troubling. Taken together, Apple News and Facebook Instant Articles are the saddest refutation of the open web revolution possible: they are incompatible proprietary publishing systems entirely under the control of huge corporations, neither of which particularly understands publishing or media. Earlier this year, I called Facebook the new AOL; Instant Articles comes from the same instinct as AOL trying to bring Time Warner’s media content into its app just before the web totally kicked its ass. Apple and Facebook are turning their back on the web to build replacements for the web, and with them replacements for HTML and CSS and every bit of web innovation it’s taken 20 years of competitive development to achieve.</p>
</blockquote>

<p>I’m not 100% sure on Facebook Instant Articles but Apple News is basically just an RSS reader. Sure you can use some <a href="https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/News_Publishing_Guide/RSSBestPractices.html#//apple_ref/doc/uid/TP40015407-CH13-SW1">custom syntax to make things look slightly nicer</a> but they have “over a million topics” because they’ve basically scraped all the big RSS feeds and packaged it nicely. This brings me to the one thing I probably agree with Niley on<sup id="fnref:bracelet"><a href="#fn:bracelet" class="footnote">1</a></sup>, the mobile web does suck. The difference is that I don’t ever use it…</p>

<p>On mobile, apps have completely replaced the web for me. Safari isn’t on my first home screen, let alone my dock; it’s buried in a folder with Stocks, Tips, and other undeletable<sup id="fnref:undeletable"><a href="#fn:undeletable" class="footnote">2</a></sup> Apple apps. The majority of browsing I do on my phone is either my RSS feeds or Twitter; if I want to read a link, they usually open in their own browser and I usually regret it. Mobile web sites are generally horrible things that are slow to load and have ridiculous interfaces. There are some sites that take longer to load on 4G than the equivelant WAP<sup id="fnref:wap"><a href="#fn:wap" class="footnote">3</a></sup> website used to on GPRS! Even the option to choose to render the desktop version often doesn’t work due to the horrible way in which most companies detect you are using a mobile browser. Due to this, I typically save websites I want to read to my Pinboard and read them later on my iMac or use the “readability” feature in Safari.</p>

<p>I love RSS feeds. I subscribe to around 130 websites<sup id="fnref:subscribe"><a href="#fn:subscribe" class="footnote">4</a></sup> and I get every article fast, cached for offline usage, rendered in the same font, and without any JavaScript crap. I simply don’t understand people that don’t use RSS. Twitter is no match; you have to scroll through a ton of stuff you aren’t interested in to find links which you then have to click and wait for your browser to render. RSS keeps everything uniform and consistent and ensures I don’t miss anything. That is essentially what Apple News is trying to do (albeit with a discovery angle and a bit more design) and it seems like a perfectly good idea to me but I doubt it’ll make me switch from <a href="http://reederapp.com">Reeder</a> and <a href="http://feedbin.com/">FeedBin</a>, my current setup.</p>

<p>The only minor problem I have with RSS is sites (<s>like The Verge</s><sup id="fnref:theverge"><a href="#fn:theverge" class="footnote">5</a></sup>) who only give you a paragraph of the text before making you click through to the site so they get your eyeballs on their ads and which always leads to clickbait headlines and paragraphs ending in a manufactured cliffhanger<sup id="fnref:remove"><a href="#fn:remove" class="footnote">6</a></sup>. Fortunately there aren’t many sites that do that but Apple News is not going to fix it; they have provision for this with a “<a href="https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/News_Publishing_Guide/RSSBestPractices.html#//apple_ref/doc/uid/TP40015407-CH13-SW1">Read Full Story” link</a> they embed that opens up the rest of the page within an internal browser. There are also sites which have ads as content (i.e. Daring Fireball) but those work well as they can be skimmed over quickly if they are of no interest and they don’t track you, take over your screen, or do any of the other things that browser ads do.</p>

<p>So whilst everybody is up in arms about mobile browsers using up their battery and CPU, tracking their usage across the web, and having the unwinnable argument over whether to block ads or not<sup id="fnref:blockads"><a href="#fn:blockads" class="footnote">7</a></sup>, I’ll be sat reading that debate in my JavaScript-free, fast, RSS reader. I’ll likely end up installing some form of content blocker when iOS 9 is released for the few times that I do end up using the browser, but those times are thankfully becoming fewer and fewer on mobile.</p>

<div class="footnotes">
  <ol>
    <li id="fn:bracelet">
      <p>I have an instant dislike to him after his <a href="http://www.theverge.com/a/apple-watch-review">Apple Watch review</a> (which has a horrible, horrible website) in which he said the notifications made him ruder in conversation (as he constantly looked at his watch rather than ignoring it - that just makes him a jerk, not the watch) and claimed he felt “ridiculous wearing the Milanese Loop” yet is happy to wear a <a href="http://www.neogaf.com/forum/showthread.php?t=1031596">massive chunky punk bracelet</a>. <a href="#fnref:bracelet" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:undeletable">
      <p>I’m still surprised this hasn’t been remedied. In iOS 3 you could enable the Nike Running app by a toggle in settings (as the 3GS had the Bluetooth chip to talk to the shoe tracker) so I don’t see an issue why the built-in apps couldn’t be turned off in a similar way from settings. <a href="#fnref:undeletable" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:wap">
      <p>Who remembers WAP? Fun times. <a href="#fnref:wap" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:subscribe">
      <p>A mixture of tech, politics, development, LEGO, video game, and Disney blogs. Everything published in the areas I care about all in one place. <a href="#fnref:subscribe" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:theverge">
      <p>Turns out that The Verge does offer a <a href="http://www.theverge.com/rss/full.xml">full RSS feed</a> after all! A shame that <a href="http://9to5mac.com">9to5mac.com</a> have started truncating theirs… <a href="#fnref:theverge" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:remove">
      <p>After clicking a few of them, you realise the site is terrible and unsubscribe from it. Problem solved. <a href="#fnref:remove" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:blockads">
      <p>The argument is either “if you block ads you are getting something for free and going to put the publisher out of business” or “you shouldn’t be using up my battery and CPU with this privacy invading advertising”. You can’t win either way. I block ads personally but I’ll do a post soon about how I do it on my iMac. <a href="#fnref:blockads" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
  </ol>
</div>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2015/07/24/next-driving-test-with-goutte/">Finding the next available driving test with Goutte PHP Scraper</a></h1>
			
			<time datetime="2015-07-24" pubdate=""><a href="/weblog/2015/07/24/next-driving-test-with-goutte/">July 24, 2015</a></time>
    	</header>
    	<div>
			<p>Over the past week I’ve had a lot of fun working on some small scripts to aid my general day-to-day living. My wife is currently waiting to take her driving test but our local area only has one test instructor with a waiting list of over 6 months! Occassionally slots open up due to cancellations and so she has been logging into the <a href="https://driverpracticaltest.direct.gov.uk/login">Government website</a> multiple times a day to check for a nearer date. Time for some automation!</p>

<p>To stop her having to constantly go to a website, I decided to knock up a quick PHP script that would basically pretend to be a browser, log in, go to the correct page, and rip out the next available appointment. It’s been a while since I wrote a script like this so I had a look around for something better than <code>SimpleXML</code> and found <a href="https://github.com/FriendsOfPHP/Goutte">Goutte, a simple PHP Web Scraper</a>. Within 10 minutes, my script was working. It looks something like this:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">require</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Goutte\Client</span><span class="p">;</span>

<span class="nv">$licenseNumber</span> <span class="o">=</span> <span class="s1">&#39;xxx&#39;</span><span class="p">;</span> <span class="c1">// Driving License Number</span>
<span class="nv">$referenceNumber</span> <span class="o">=</span> <span class="s1">&#39;xxx&#39;</span><span class="p">;</span> <span class="c1">// Reference number for current test date as looking to rebook</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">();</span>

<span class="nv">$crawler</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;https://driverpracticaltest.direct.gov.uk/login&#39;</span><span class="p">);</span>
<span class="nv">$crawler</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;h2&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">each</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nv">$node</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="nv">$node</span><span class="o">-&gt;</span><span class="na">text</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Sorry, you can’t use this service right now&quot;</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">echo</span> <span class="s1">&#39;Site is down.&#39;</span><span class="p">;</span><span class="k">exit</span><span class="p">;</span> <span class="c1">// Inexplicably, the site goes offline from 9pm-6am. It thinks it&#39;s an office!</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nv">$form</span> <span class="o">=</span> <span class="nv">$crawler</span><span class="o">-&gt;</span><span class="na">selectButton</span><span class="p">(</span><span class="s1">&#39;Continue&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">form</span><span class="p">();</span>
<span class="nv">$crawler</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">submit</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="nv">$licenseNumber</span><span class="p">,</span> <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="nv">$referenceNumber</span><span class="p">));</span>
<span class="nv">$link</span> <span class="o">=</span> <span class="nv">$crawler</span><span class="o">-&gt;</span><span class="na">selectLink</span><span class="p">(</span><span class="s1">&#39;Change Date and time of test&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">link</span><span class="p">();</span>
<span class="nv">$crawler</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">click</span><span class="p">(</span><span class="nv">$link</span><span class="p">);</span>
<span class="nv">$form</span> <span class="o">=</span> <span class="nv">$crawler</span><span class="o">-&gt;</span><span class="na">selectButton</span><span class="p">(</span><span class="s1">&#39;Find available dates&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">form</span><span class="p">();</span>
<span class="nv">$crawler</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">submit</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;testChoice&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ASAP&#39;</span><span class="p">));</span>

<span class="nv">$crawler</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;.slotDateTime&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">each</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$node</span><span class="p">)</span> <span class="p">{</span>
	<span class="nv">$date</span> <span class="o">=</span> <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">text</span><span class="p">();</span>
	<span class="k">echo</span> <span class="nv">$date</span><span class="o">.</span><span class="s1">&#39; is the next available test slot.&#39;</span><span class="p">;</span>
	<span class="c1">// Here I check if it has changed since last time and send an email if it has and nearer than currently booked test. Left out for brevity.</span>
    <span class="k">exit</span><span class="p">;</span>
<span class="p">});</span>

<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<p>As you can see, the code is pretty simple, readable, and powerful. Within minutes, I was able to jump through 3 pages without worrying about sessions, cookies, or any of the other nonsense that often occurred when dealing with this kind of scraping. I run this every 5 minutes on a <a href="http://fortrabbit.com/">FortRabbit server</a> and we both get emailed if a closer test date appears. For just a few minutes work, this means better peace of mind as we don’t have to check manually and this checks far more frequently than we ever could. Now to wait and hope for a nearer test date…</p>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2015/07/17/transferwise/">TransferWise</a></h1>
			
			<time datetime="2015-07-17" pubdate=""><a href="/weblog/2015/07/17/transferwise/">July 17, 2015</a></time>
    	</header>
    	<div>
			<p>I’ve been meaning to write about <a href="https://transferwise.com/u/135bb">TransferWise</a> for a little while but there new support for Apple Pay put it back in the front of my mind. TransferWise is a service that transfers money for you into multiple currencies at a fraction of the cost that your bank would usually charge. I’d seen it advertised a few times on Facebook but didn’t take too much notice as I didn’t really make any international transfers; that stopped when we <a href="http://wallab.ee/blog/apr-2014/design-team-update">hired Robbie at WallaBee last year</a>. I quickly found that my bank was not only charging me with exhorbitant conversion rates and transfer charges but that the recipient was also being charged by their bank for accepting an international transfer!</p>

<p>The way TransferWise works is that it lets you choose a specific amount of money to transfer (either in the original or converted currency<sup id="fnref:transfers"><a href="#fn:transfers" class="footnote">1</a></sup>) and then it tells you how much it thinks it will cost. You then pay that amount (plus a small buffer to account for fluctuating bank transfers) direct to TransferWise by card or bank transfer. They then do the conversion and pay the recipient from a local account in their own currency so they don’t get hit with international charges. Once it is all done, you get a refund for any of the amount that wasn’t used for the conversion. The first few times the transfer took around 5 working days but now my transfers are done within 24 hours.</p>

<p>I’ve saved over £500 in fees over the past 6 months and couldn’t be happier with the service. I tend to use the website but they have a great iOS app which has recently been updated to accept Apple Pay. If you are making any sort of payments overseas, I’d strongly recommend using TransferWise rather than your standard banking transfers. If you <a href="https://transferwise.com/u/135bb">sign up with this link</a>, you’ll get a fee-free transfer of up to £3000.</p>

<div class="footnotes">
  <ol>
    <li id="fn:transfers">
      <p>This is an important distinction as when paying an invoice I need to pay in a specific amount of USD so the amount of GBP will change. There may be situations where you always want send a specific amount of GBP and the USD will then be the thing that varies based on currency conversion. Obviously they support more than just USD / GBP but that’s all I use currently. <a href="#fnref:transfers" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
  </ol>
</div>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2015/07/14/uk-apple-pay/">UK Apple Pay</a></h1>
			
			<time datetime="2015-07-14" pubdate=""><a href="/weblog/2015/07/14/uk-apple-pay/">July 14, 2015</a></time>
    	</header>
    	<div>
			<p>I’ve been excited about Apple Pay ever since it was first announced for the US last year. It <em>finally</em> arrived in the UK today and so I’ve made a few purchases in a selfless act of testing! There has been quite a bit of confusion and misinformation about how it would work in the UK so hopefully I’ll clear up some issues there as well as giving my opinion on how Apple Pay works.</p>

<p>First of all, it is insanely easy to setup. You just open up the Passbook app on your iPhone<sup id="fnref:applepayphone"><a href="#fn:applepayphone" class="footnote">1</a></sup> and a new “Pay” option will appear above your passes. When you add a card, Apple will automatically default to the card you have on file for iTunes purchases or you can add a new one via the camera. Some banks have a security step and I was offered the choice of calling RBS or having them text me a security code; the code came through instantly and everything activated within seconds. Unfortunately neither my credit card company nor my business bank are using Apple Pay yet so I could only add my personal account card.</p>

<p>If you have an Apple Watch, you need to repeat this step in the “Passbook &amp; Apple Pay” section of the Apple Watch app. The reason for this is that your card information is stored securely within the hardware of the device, not in software (so there is no iCloud syncing or anything like that).</p>

<p>When it comes to paying, you can use Apple Pay at every single shop in the UK that has a contactless card reader. When paying, you simply say you are paying by card and if the amount is under £20<sup id="fnref:contactlesslimit"><a href="#fn:contactlesslimit" class="footnote">2</a></sup> the contactless section will light up and you can then place your iPhone near the reader. Your iPhone will automatically come out of standby mode, show your card, and ask you to hold the fingerprint scanner on the home button; within a second it’ll buzz and the payment is done. If paying with the Apple Watch you have to double-tap the side button to bring up your cards and then hold it against the scanner (for the simple reason that the NFC chip isn’t always on as it’d kill the battery). Once the payment is done, an unexpected nice touch is that you get a push notification telling you how much you paid and where - useful for making sure that you paid the correct amount. I tried this in W H Smiths, which is not an official “Apple Pay” partner, and it all went through fine. Your iPhone (or Apple Watch) is simply pretending to be a contactless card so if your card works, then Apple Pay will work.</p>

<p>The main piece of misinformation about Apple Pay in the UK has been this £20 limit; “Apple Pay limited to £20” is a frequent headline but it isn’t actually true. If a launch partner (like Marks &amp; Spencer) supports full Apple Pay, then you can make a purchase of over £20 using the same system as above. The difference is that they have upgraded their hardware so that the contactless part will work specifically with Apple Pay rather than just being the standard contactless payment system. I tested this by buying £35 of stuff at M&amp;S and it all worked flawlessly. The real issue is that “Apple Pay” encompasses both the “pretending to be regular contactless” and “being an upgraded contactless system” and it isn’t easy to tell which a retailer supports. I think if you see an Apple Pay logo on the reader (like I did at McDonalds), then they support the full no transaction limit Apple Pay.</p>

<p>After successfully paying with both my iPhone and Apple Watch at multiple stores, I decided to give the in app payment system a try. This is live for several apps (highlighted in the App Store currently) and basically allows you to make payments in app using Apple Pay. This is limited to physical goods and services<sup id="fnref:iap"><a href="#fn:iap" class="footnote">3</a></sup> so I bought some stuff from Etsy, supported a project on Kickstarter, and bought a new Apple Watch strap from the Apple Store app. In all cases, the process was insanely simple; during the checkout process, I was never asked for my address or card details but a simple “Apple Pay” button bought up a sheet which showed the address my card is issued to and let me pay by holding my fingerprint on the home button.</p>

<p>Overall, the whole process has been simple and fast. A lot of people wonder why bother using this when you can already use a contactless card? For me, it boils down to two reasons: simplicity and security. With my Apple Watch on, I didn’t have to take my wallet out of my pocket; whilst this isn’t a mindblowing change (only takes a second), it is an added level of convenience and means I can make purchases if I leave my wallet at home (or if I’m somewhere sketchy and don’t want to take it out). The real benefit though is in security. When you make a payment, the retailer never gets your card number; Apple Pay gives a randomly generated number every time you buy something which means retailers can’t track you across stores or link you to payments. I was able to check this by looking at my receipts and each time the last 4 digits they displayed of my card number were different. This may be a minor thing to a lot of people but this increase in privacy and the convenience of making payments (some of them over £20) from my wrist mean that this is a big deal to me.</p>

<p>The real test will be when I’m in London next and can try it out in place of an Oyster card<sup id="fnref:twist"><a href="#fn:twist" class="footnote">4</a></sup>.</p>

<div class="footnotes">
  <ol>
    <li id="fn:applepayphone">
      <p>Only iPhone 6 and 6 Plus are supported for Apple Pay via contactless payment. You can use iPad Air 2 and iPad mini 3 for in-app payments. <a href="#fnref:applepayphone" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:contactlesslimit">
      <p>This is increasing to £30 for all contactless payments in September. <a href="#fnref:contactlesslimit" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:iap">
      <p>Obviously you can already pay for in-app purchases like extra game levels or subscriptions using TouchID which works essentially the same way but charges your card on your iTunes account. <a href="#fnref:iap" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:twist">
      <p>I’ve seen a lot of comments about “the readers are on the right so how will I use it if I wear my watch on my left hand like 90% of the population”. I’ve got this clever trick called “moving your arm across your body”… worked like a charm at the McDonalds payment terminal. <a href="#fnref:twist" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
  </ol>
</div>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2015/07/10/forcing-uistatusbarstyle-for-uiimagepickercontroller/">Forcing UIStatusBarStyle for UIImagePickerController</a></h1>
			
			<time datetime="2015-07-10" pubdate=""><a href="/weblog/2015/07/10/forcing-uistatusbarstyle-for-uiimagepickercontroller/">July 10, 2015</a></time>
    	</header>
    	<div>
			<p>I stumbled upon an interesting problem today which I’ve experienced a couple of times before; if you are using white text for the status bar in your application (<code>UIStatusBarStyle.LightContent</code>) then it will be turned black once you present a UIImagePickerController. This can not only look ugly but will remain when you dismiss the controller. Usually I just change the appearance of the navigation bar within the picker to get around this (and set it back to the correct colour upon dismissing the controller) but on this particular app I wanted to force the UIImagePickerController to use the light style status bar. Fortunately it is quite easy.</p>

<p>When you use the UIImagePickerControllerDelegate, you are also required to adopt the UINavigationControllerDelegate. This has a method named <code>navigationController:willShowViewController:animated:</code> which will be called both when you present the controller and when you navigate between albums. Using this, it is trivial to force the status bar to remain the same<sup id="fnref:assumption"><a href="#fn:assumption" class="footnote">1</a></sup>:</p>

<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">func</span> <span class="nf">navigationController</span><span class="p">(</span><span class="nl">navigationController</span><span class="p">:</span> <span class="bp">UINavigationController</span><span class="p">,</span> <span class="n">willShowViewController</span> <span class="nl">viewController</span><span class="p">:</span> <span class="bp">UIViewController</span><span class="p">,</span> <span class="nl">animated</span><span class="p">:</span> <span class="n">Bool</span><span class="p">)</span> <span class="p">{</span>
	<span class="bp">UIApplication</span><span class="p">.</span><span class="n">sharedApplication</span><span class="p">().</span><span class="n">statusBarStyle</span> <span class="o">=</span> <span class="p">.</span><span class="n">LightContent</span>
<span class="p">}</span></code></pre></div>

<div class="footnotes">
  <ol>
    <li id="fn:assumption">
      <p>This is of course assuming you have <em>View controller-based status bar appearance</em> set to NO in your Info.plist file so that you can use UIApplication to change the status bar. <a href="#fnref:assumption" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
  </ol>
</div>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2015/07/10/optical-media-and-the-pain-of-remote-disc/">Optical media and the pain of Remote Disc</a></h1>
			
			<time datetime="2015-07-10" pubdate=""><a href="/weblog/2015/07/10/optical-media-and-the-pain-of-remote-disc/">July 10, 2015</a></time>
    	</header>
    	<div>
			<p>I hate optical media. I avoid it as much as possible with streaming or digital versions of music and films but sometimes it is unavoidable. An album I wanted<sup id="fnref:lacage"><a href="#fn:lacage" class="footnote">1</a></sup> recently wasn’t available on iTunes or any of the other online stores so I had to give in and buy a physical version on Amazon. Unfortunately this didn’t give me a free MP3 version as it often does<sup id="fnref:amazonmp3"><a href="#fn:amazonmp3" class="footnote">2</a></sup> which left me with a slight issue as neither my iMac nor MacBook have a CD drive.</p>

<p>I didn’t think this would be a big problem as my wife has an older MacBook with an optical drive so I’d be able to use Remote Disc to access the drive. Remote Disc is a useful feature that lets you access the optical drive on another computer via your network and has been useful for me in the past if I’ve had some data lying around on an old disc. Unfortunately, it didn’t work at all for this as <a href="https://support.apple.com/en-gb/HT203973">Remote Disc is locked to prevent the streaming of audio discs (or movie DVDs)</a>. To make matters worse, Remote Disc doesn’t straight up tell you this but instead gives you a cryptic message about the drive being unavailable. I can see no logical reason for this but that is still the state of play in 2015.</p>

<p>In the end, I had to rip the CD on my wife’s MacBook, then copy the files back to my computer. Crazy.</p>

<div class="footnotes">
  <ol>
    <li id="fn:lacage">
      <p>The album, in case you were wondering, was the original Broadway version of “<a href="http://www.amazon.co.uk/gp/product/B007IJKHIQ?keywords=la%20cage%20aux%20folles&amp;qid=1436518617&amp;ref_=sr_1_1&amp;s=music&amp;sr=1-1">La Cage Aux Folles</a>” <a href="#fnref:lacage" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:amazonmp3">
      <p>In ridiculous circumstances, it is often cheaper to buy a physical CD from Amazon than it is to buy the MP3 version! They sometimes give you the digital version free with the physical so I bought “Bright Idea” by Orson and just recycled the Amazon package that arrived without opening. <a href="#fnref:amazonmp3" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
  </ol>
</div>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2015/07/07/adding-exercise-data-to-activity/">Adding Exercise Data To Activity</a></h1>
			
			<time datetime="2015-07-07" pubdate=""><a href="/weblog/2015/07/07/adding-exercise-data-to-activity/">July 07, 2015</a></time>
    	</header>
    	<div>
			<p>I’ve been using the health features of the Apple watch <a href="https://bendodson.com/weblog/2015/05/26/working-out-with-apple-watch/">a lot recently</a> but today is the first time it has stopped me from doing a specific exercise. I was planning on going for a swim but obviously I don’t want to do that with my watch on. I assumed I’d be able to either enter the workout directly into the Health app (or use a 3rd party app to add the data to HealthKit) and that would then count as part of my 30 minutes of exercise on the Apple Watch; unfortunately this is not the case.</p>

<p>I’ve tried with manual data entry and 3rd party apps<sup id="fnref:healththird"><a href="#fn:healththird" class="footnote">1</a></sup> but there is no way for workout data not created on the Apple Watch to be used as part of your Activity… yet. On checking the WWDC keynote, <a href="https://www.youtube.com/watch?v=02H3vfFW3xg&amp;t=1h31m53s">Kevin Lynch mentions that this feature is coming as part of watchOS 2</a>. Specifically he says that “workouts with these [native on the Apple Watch] apps will count” - I’m assuming that any app that uses HealthKit will actually count but we’ll see. I’m not going to install a potentially buggy watchOS 2 on my Apple Watch one week before Apple Pay comes to the UK!</p>

<div class="footnotes">
  <ol>
    <li id="fn:healththird">
      <p>I even built my own basic app to add data into HealthKit with the “user entered” flag set to false in the hope that this was the piece that meant the Apple Watch ignored it. <a href="#fnref:healththird" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
  </ol>
</div>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2015/06/23/since-an-nsdate-extension-in-swift/">Since, an NSDate Extension in Swift</a></h1>
			
			<time datetime="2015-06-23" pubdate=""><a href="/weblog/2015/06/23/since-an-nsdate-extension-in-swift/">June 23, 2015</a></time>
    	</header>
    	<div>
			<p>I’ve just <a href="https://github.com/bendodson/nsdate-since-swift">committed a very simple NSDate extension</a> that gives you a human readable version of the time difference between the date and now (i.e. “2 hours ago”, “just now”, or “last week”). I needed this functionality in a project I’m currently working on but existing solutions I found were all Objective-C and fairly complex. I try not to add any complex 3rd party dependencies when I don’t have to (especially as I don’t want an Objective-C bridging header) so I built this in a few minutes to give me the basic functionality I required. You can <a href="https://github.com/bendodson/nsdate-since-swift">check it out on GitHub</a>.</p>

<p>In many ways, this sums up how I feel about some development today. Many developers will either embed a 3rd party solution without thinking about it (giving you licensing and support issues in the future) or they’ll spend hours crafting the perfect solution that will give you to-the-second precision with unit tests and a whole host of other stuff you probably don’t need<sup id="fnref:craft"><a href="#fn:craft" class="footnote">1</a></sup>. Sometimes you just need the simplest thing that works so you can move onto more important things.</p>

<div class="footnotes">
  <ol>
    <li id="fn:craft">
      <p>An <a href="http://thenextweb.com/apple/2011/10/24/steve-jobs-obsession-with-the-quality-of-the-things-unseen/">oft-mentioned story about Steve Jobs</a> regards how his father would spend as much time making the back of a cabinet (which you’d never see) look as good as the front as a sign of good craftsmanship. This has its place but its important to remember that “<a href="http://www.folklore.org/StoryView.py?story=Real_Artists_Ship.txt">real artists ship</a>”; I’d rather have a project that is live and performing than spend hours crafting the “perfect” piece of code. <a href="#fnref:craft" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
  </ol>
</div>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2015/06/19/using-an-ssd-with-xbox-one/">Using an SSD with the Xbox One</a></h1>
			
			<time datetime="2015-06-19" pubdate=""><a href="/weblog/2015/06/19/using-an-ssd-with-xbox-one/">June 19, 2015</a></time>
    	</header>
    	<div>
			<p>I love my Xbox One but the one big issue I have with it is loading times. This is mainly due to the spinning hard drive<sup id="fnref:gross"><a href="#fn:gross" class="footnote">1</a></sup> inside and the huge amount of data it is expected to push for some of the bigger open world games like GTA V or The Witcher 3. In an effort to speed this up (and because the 500GB hard drive is almost full), I’ve upgraded my Xbox One with an external SSD<sup id="fnref:internal"><a href="#fn:internal" class="footnote">2</a></sup>.</p>

<h2 id="process">Process</h2>

<p>The process is actually incredibly simple. You’ll need the following two things:</p>

<ul>
  <li>
    <p>An mSATA SSD that is at least 256GB in size. I went for a <a href="http://www.amazon.co.uk/gp/product/B00K64I1ZG/ref=as_li_tl?ie=UTF8&amp;camp=1634&amp;creative=6738&amp;creativeASIN=B00K64I1ZG&amp;linkCode=as2&amp;tag=bendodsoncom-21&amp;linkId=WXUCET2UPLRQ45JG">256GB model from Transcend</a>.</p>
  </li>
  <li>
    <p>A USB 3.0 enclosure for the SSD. You’ll want one that has UASP support like <a href="http://www.amazon.co.uk/gp/product/B00RNECU36/ref=as_li_tl?ie=UTF8&amp;camp=1634&amp;creative=6738&amp;creativeASIN=B00RNECU36&amp;linkCode=as2&amp;tag=bendodsoncom-21&amp;linkId=2PBC3FWRNMFY46HQ">this one from ZTC</a>. Do not get one from Sabrent<sup id="fnref:sabrent"><a href="#fn:sabrent" class="footnote">3</a></sup>!</p>
  </li>
</ul>

<p><img src="https://bendodson.s3.amazonaws.com/weblog/2015/ssd-and-enclosure.jpg" width="800" /></p>

<p>Once you have these, it’s a simple case of plugging the SSD into the enclosure and attaching the USB cable. This leaves you with an incredibly small device which can then be plugged into any of the 3 USB 3.0 ports on the Xbox One:</p>

<p><img src="https://bendodson.s3.amazonaws.com/weblog/2015/ssd-for-xbox-one.jpg" width="800" /></p>

<p>As soon as you turn the Xbox One on, you’ll be alerted that a new media device has been attached and given the option to format it for games and give it a name. When you have done this, you’ll be able to copy games and apps by going to their individual storage settings and choosing the move option.</p>

<h2 id="results">Results</h2>

<p>I’ve only put 3 games on the SSD so far but they are all dramatically faster for loading and saving. I’ve put a few benchmarks below:</p>

<h3 id="gta-v">GTA V</h3>
<p>This is by far my slowest game. Testing was from a cold startup (which automatically loads your previous save point) to the point at which the game was playable:</p>

<ul>
  <li><strong>Internal HDD</strong> - 2 minutes 31 seconds</li>
  <li><strong>External SSD</strong> - 1 minute 9 seconds</li>
</ul>

<p>SSD produces a 60% reduction in loading time.</p>

<h3 id="the-witcher-3-wild-hunt">The Witcher 3: Wild Hunt</h3>

<p>The first test was from a cold start to the opening menu.</p>

<ul>
  <li><strong>Internal HDD</strong> - 40s</li>
  <li><strong>External SSD</strong> - 28s</li>
</ul>

<p>SSD produces a 30% reduction in loading time (although that seemed to be as quick as it could go due to the logos and publisher videos at startup).</p>

<p>The second test was from resuming a game from the main menu.</p>

<ul>
  <li><strong>Internal HDD</strong> - 1 minute 21 seconds</li>
  <li><strong>External SSD</strong> - 46 seconds</li>
</ul>

<p>SSD produces a 57% reduction in loading time.</p>

<h3 id="lego-jurassic-world">LEGO Jurassic World</h3>

<p>For this test, I timed from the loading of the last save point on the main menu.</p>

<ul>
  <li><strong>Internal HDD</strong> - 37 seconds</li>
  <li><strong>External HDD</strong> - 37 seconds</li>
</ul>

<p>It looks like LEGO Jurassic World’s loading sequence is limited to 37 seconds in order to show 3 pieces of dinosaur trivia at 12 seconds each. Playing through the game though, the time it takes to start a story and fast travel to new locations seems much faster.</p>

<p>Overall, it seems that the SSD offers around a 55-60% reduction in speed unless there is something specifically limiting the load time (i.e. videos or placeholder content). I’m planning on just using the external drive for single player games at the moment as there isn’t much benefit in loading the Titanfall or Halo online textures any quicker when the limiting factor is the broadband connection along with everyone else. For me, the SSD option is definitely worth the cost for the big open world games that have a heavy loading time penalty when you die (looking at you GTA V) - it has also increased my overall storage space by 50% which is useful when some games are in the 100s of GB.</p>

<div class="footnotes">
  <ol>
    <li id="fn:gross">
      <p>Gross! One day I’ll look forward to telling my kids we used to store data on discs spinning at 7200rpm - it’ll be baffling to them. <a href="#fnref:gross" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:internal">
      <p>As far as I’m aware, doing it internally would be slightly faster but would definitely invalidate any warranty! <a href="#fnref:internal" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:sabrent">
      <p>The first enclosure I got was the <a href="http://www.amazon.co.uk/gp/product/B00LRZPNHM/ref=as_li_tl?ie=UTF8&amp;camp=1634&amp;creative=6738&amp;creativeASIN=B00LRZPNHM&amp;linkCode=as2&amp;tag=bendodsoncom-21&amp;linkId=SS2QV56CLPEMMOBV">EC-UKMS from Sabrent</a> which was advertised as having UASP. It doesn’t and led to a 70% <em>decrease</em> in speed over the internal HDD with a load time of over 4 minutes for GTA V! This is the first product I’ve actually left a review for on Amazon as the title and images are blatent lies. <a href="#fnref:sabrent" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
  </ol>
</div>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2015/05/29/glenfiddich-residence-changhi/">Glenfiddich Residence Changhi</a></h1>
			
			<time datetime="2015-05-29" pubdate=""><a href="/weblog/2015/05/29/glenfiddich-residence-changhi/">May 29, 2015</a></time>
    	</header>
    	<div>
			<p>An iPad app I worked on a little while ago has recently gone live at a popup store in Changhi Airport: <strong>Glenfiddich Residence</strong>. This was a little different to the work I usually do as it isn’t for distribution on the App Store or ad hoc for enterprise but for a single iPad locked in a display stand. The app is part of a large installation to showcase a limited edition of Glenfiddich which is available exclusively at Changhi Airport. The single cask<sup id="fnref:cask"><a href="#fn:cask" class="footnote">1</a></sup> that has been selected by Glenfiddich is on display within a specially constructed glass chamber that showcases the weather and atmospheric conditions of the distillery in Dufftown, Scotland.</p>

<p><img src="https://bendodson.s3.amazonaws.com/weblog/2015/glenfiddich-cask.jpg" width="600" /></p>

<p>The iPad app allows for customers to see the current conditions in Dufftown including temperature, wind speed and direction, weather conditions, and the local time. This is paired with multiple sound effects which match with the weather conditions<sup id="fnref:weather"><a href="#fn:weather" class="footnote">2</a></sup>. The app also talks with a control PC via a direct socket connection over WiFi in order to control the weather effects within the chamber simulating morning fog, wind, and even rain!</p>

<p><img src="https://bendodson.s3.amazonaws.com/weblog/2015/glenfiddich-app.jpg" width="800" /></p>

<p>There is a continuous slideshow of images from around the distillery and nearly everything is animated to entice customers to interact with it. All conditions are in realtime from a weather station near the distillery.</p>

<p>The final aspect is the “start movie” button which reduces the weather effects and begins playback of a video from the Glenfiddich Malt Master on a 1080p portrait screen inside the glass chamber. This video gives an overview of the distillery and details on the bottles from the limited edition cask that are available at the store.</p>

<p>The app is written entirely in Swift 1.2 and the iPad is locked down with Guided Access to prevent customers accessing anything else.</p>

<p>This was a really exciting project to work on as it is very different to the usual iOS apps I do. If you’re visiting Changhi Airport or passing through, be sure to visit the Glenfiddich Residence; I believe it will be there for the next year.</p>

<div class="footnotes">
  <ol>
    <li id="fn:cask">
      <p>Cask #8247 with a 1992 Glenfiddich to be precise. <a href="#fnref:cask" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
    <li id="fn:weather">
      <p>For example, a thunder storm with a strong wind will have a very different array of sounds to a sunny day with no wind. <a href="#fnref:weather" class="reversefootnote">&#8617;&#xfe0e;</a></p>
    </li>
  </ol>
</div>

		</div>
	</article>
    
	
</section>


<section id="pagination">
     
    	<a href="/weblog/page/8/" title="Previous Page" class="pagination-previous">&laquo; Older Entries</a>
     
	
    
      
      	<a href="/weblog/page/6/" title="Next Page" class="pagination-next">Newer Entries &raquo; </a>
      
    
</section>

		
		<footer>
			<p>I perform all freelance work through my company <strong>Dodo Apps Ltd</strong> (07856552) registered at The Bristol Office, 2nd Floor, 5 High Street, Westbury on Trym, Bristol, England, BS9 3BY</p>
		</footer>

	</div>


</body>
</html>
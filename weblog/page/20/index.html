<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	
	<link href='https://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'>
	<link rel="alternate" type="application/rss+xml" title="The Blog of Ben Dodson - iPhone Developer and WallaBee Founder" href="https://bendodson.com/rss.xml" />
	<link rel="stylesheet" href="/styles-2016-04-18.css" />
	<link rel="stylesheet" href="/highlight.css" />
	<link rel="icon" href="https://bendodson.s3.amazonaws.com/bendodson.com/favicon.ico">
	<link rel="apple-touch-icon" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-iphone.png">
	<link rel="apple-touch-icon" sizes="76x76" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-ipad.png">
	<link rel="apple-touch-icon" sizes="120x120" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-iphone-retina.png">
	<link rel="apple-touch-icon" sizes="152x152" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-ipad-retina.png">
	<link rel="apple-touch-icon" sizes="180x180" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-ipad-retina.png">
	<title>Ben Dodson's Blog &mdash; Freelance Swift Developer and WallaBee Founder</title>
</head>
<body>

	<div id="wrapper">

		<header>
			<hgroup>
				<h1><a href="/">Ben Dodson</a></h1>
				<h2>Freelance iOS, Apple Watch, and Apple TV Developer</h2>
			</hgroup>
			<nav>
				<ul>
					<li><a href="/">Home</a></li><li><a href="/weblog/">Blog</a></li><li><a href="/about/">About</a></li><li><a href="/clients/">Portfolio</a></li><li><a href="/apps/">My Apps</a></li><li><a href="/projects/">Projects</a></li><li><a href="/contact/">Contact</a></li>
				</ul>
				<div class="divider"></div>
			</nav>
		</header>

		<section id="posts">

	
	<article>
		<header>
     		
				<h1><a href="/weblog/2008/07/21/stop-bug-found-in-stop-hammertime-firefox-extension-on-windows-xp-vista/">Stop! Bug found in "Stop! Hammertime!" Firefox Extension on Windows XP / Vista</a></h1>
			
			<time datetime="2008-07-21" pubdate=""><a href="/weblog/2008/07/21/stop-bug-found-in-stop-hammertime-firefox-extension-on-windows-xp-vista/">July 21, 2008</a></time>
    	</header>
    	<div>
			<p>I've had a few reports from people saying that the latest version of the Stop! Hammertime! firefox extension hasn't been working properly on Windows XP and Windows Vista.  A new version will be coming soon but here is a fix for the time being.</p>

<p>The problem that people are reporting is that when you go to the preferences section for the extension and try to change the stop button to the custom hammertime button, it won't let you press the "ok" button to proceed with the change.  It is currently only affecting Firefox 3 on Windows XP and Windows Vista but I'll be making a patch to fix it shortly.  For the time being, if you can't live without a hammertime button (despite the fact the stop button still works and plays the sound), then you can follow the steps below to get it working.</p>

<p>First of all, you need to type "about:config" in the address bar of the browser.  This allows you access some of the internal preferences and config settings of firefox and all of your installed extensions.  You will most likely get a "here be dragons" warning but you can skip this - you do know what you're doing right?</p>

<p>You will then need to use the filter option to locate the Stop! Hammertime! preferences.  You can do this by typing "hammertime" in the filter box - this should give you one result which by default is set to "false".  You need to double click to change it to "true".</p>

<p>Once you've done this, simply restart firefox and the new hammertime button will be there for you to enjoy!  To change it back to the stop button, simply follow the steps above but make sure the hammertime config entry is set to "false".</p>

<p>An update will hopefully be available in the next fews days so that you won't have to perform the above to switch between the two, but this should do for the time being.  Alternatively you can buy an Apple Mac or install Linux!</p>

<p>In other Stop! Hammertime! news, it seems that the copyright holders for the song "U Can't Touch This" have noticed it's popularity and are attempting to cash in on it.  I recently had an email from the <a href="http://www.icgcopyright.com/icg/" rel="external">Integrated Copyright Group (ICG)</a> informing me that I'd need to purchase a license in order to play the 2 second sound clip in the firefox extension otherwise I would be in breach of copyright.  After a few back and forths we came to the conclusion that they could send a "cease and desist" letter from their lawyers but that the extension wasn't being removed (and I wasn't paying for a license).  So, we'll see what happens - expect updates on this shortly!!</p>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2008/07/21/iphone3g-apps-mobileme-and-iphone-specific-sites/">iPhone 3G, Apps, MobileMe, and iPhone specific sites</a></h1>
			
			<time datetime="2008-07-21" pubdate=""><a href="/weblog/2008/07/21/iphone3g-apps-mobileme-and-iphone-specific-sites/">July 21, 2008</a></time>
    	</header>
    	<div>
			<p>So, you've probably heard of the iPhone (unless you've been living under a rock in Redmond) - Apple's debut outing into the mobile phone arena, and what a debut it has been!  The interface is easy to use, the build quality is good, and it has a number of interesting features (e.g. visual voicemail) which make up for it's huge lacking of the most basic features (e.g. MMS).  I've been using one for the past 3 months but have just recently upgraded to the iPhone 3G after <a href="http://flickr.com/photos/bendodson/2665427230/" rel="external">queueing for a couple of hours outside the Fleet Street branch of O2</a> on launch day.  But what are the new features and have they really improved the "jesus phone"?</p>

<p>Well the most talked about features that have been added are 3G support (which allows for faster data transfer) and GPS (pin-point location service).  The difference in speed between 3G and Edge is not that noticeable on most websites I've found, but when using applications like maps or mail it is an absolute godsend.  Having said that, although pages take about the same amount of time to load, they seem to render a lot quicker (e.g. the screen stays white for a long period of time before suddenly filling up with content incredibly quickly).  GPS was the main thing I was looking forward to and it seems to be a bit hit and miss.  Sometimes I can enable it and it will have my exact location within about 4 seconds whereas other times it just never gets a lock.  What makes this so annoying is that it doesn't seem to use cell tower triangulation or wireless networks to get a rough approximation of my location as the old iPhone did. It just keeps hoping it will see a GPS satellite.  I had been hoping that there would be an app that would automatically send my current location to a service such as <a href="http://fireeagle.yahoo.net/" rel="external">Fire Eagle</a> at regular intervals so that I could make some cool location mashups but with the current support it seems unlikely that it would work. Oh, and these 2 features drain the battery like you would not believe!  Fortunately I don't move too far outdoors so I'm always near a healthy electric supply!</p>

<p>The other differences between the iPhone and the iPhone 3G are very small but have actually meant more to me so far than 3G or GPS.  The first is that the back is no longer metal but plastic.  At first I thought this would be absolutely terrible but it actually makes the phone feel a lot more comfortable.  Also, all of the buttons (such as the silent switch and power button) are all brushed metal so they feel a lot more reliable and well built.  The other big improvement is that the sound quality is much improved on both the internal and external speaker.  I can actually use the loudspeaker now whereas before it just sounded like a normal phone with the volume turned up a bit (very muffled).</p>

<p>The main enhancement has definitely been the introduction of iPhone 2.0, the much anticipated software upgrade available to both the old iPhone and the iPod Touch.  With the software you can now have Exchange mail, contact searching, and run 3rd party applications on the device.  It is this that seems to have become the main reason people want an iPhone 3G although to be honest I probably could have kept the old iPhone that I paid a ridiculous sum of money for only 3-4 months ago!  I have several apps installed now including services for Twitter, Flickr, Last.fm, and Facebook, a VNC client, a lightsabre, a <a href="http://tapulous.com/taptap/" rel="external">Guitar Hero style tapping game</a>, Super Monkey Ball, and a mobile version of <a href="http://culturedcode.com/things/" rel="external">Things</a> (which doesn't sync yet but <a href="http://culturedcode.com/things/forums/read.php?6,4239" rel="external">they promised a free upgrade</a> that will).  I'll be posting some updates over the coming days about various exciting apps that have arrived or are hopefully coming soon.  At the moment there is a real gap for an MSN Messenger client as I haven't found one yet but they seem to be adding 10-20 apps per day so there should be one in the near future.</p>

<p>Another interesting development which Apple have introduced is <a href="http://www.apple.com/mobileme/" rel="external">MobileMe</a> which is supposedly "Exchange for the rest of us".  It also has some of the best functioning "Web 2.0" apps that I have ever seen at <a href="http://www.me.com" rel="external">me.com</a>.  The idea is that all of your email, contacts, and calendar entries are stored online in a "cloud" and are then automatically pushed to your phone and computers.  Now this seemed great for me as I'm always updating things on the phone and then either having to plug it into my mac or update it on there manually.  I have both a MacBook and an iMac so it becomes a hassle trying to sync them all so it seemed like a very good idea.  Unfortunately the launch has been marred by huge problems over the launch weekend (e.g. it didn't work), some pissed off customers who didn't agree with Apple's marketing of the push system (e.g. showing a MacBook making a change that replicates instantly on the "cloud" but in reality it's a 15 minute automated sync rather than the push capability used by the phone), and also with a small error in which they took &pound;121 off your credit card instead of $1 to authorise the payments.  However, all of this aside, MobileMe is absolutely great!  I add items to my calendar on my mac and they then show up on my iPhone.  I take a picture of someone on my iPhone and add it to their section in my address book and sure enough the photo is displayed on my MacBook the next time they email me.  It all works incredibly well but then it should do for &pound;59 per year!</p>

<p>My final thoughts on the whole iPhone thing revolve around iPhone specific sites.  That is to say taking a normal website (e.g. facebook) and then having it detect if you are using an iPhone or not and then displaying specific content or styling for that device.  Now normally I would be against such practices (remember IE4?) but in this case I have to say "why not"?  The iPhone has completely redefined mobile internet (in my opinion and doubtless many others) and has a unique interface and styling that are begging to be exploited.  The Facebook site is probably the best example for the way in which it seamlessly detects the iPhone and then displays a site that has been completely optimised for it (and styled to make it look like a native app).  Now that there is the opportunity to run apps natively on the iPhone I'm sure a number of these sites will disappear but for those of us that can't write objective-C (and I can't say I have a great desire to start learning it) then it is the closest way we can get to writing apps for the iPhone.  I am going to be making some sites specifically for the iPhone as well as some of my own personal systems which I'll be able to now access remotely and do some cool stuff with.  This debate is currently waging on the <a href="http://webstandardsgroup.org/" rel="external">Web Standards Group</a> Mailing List so I'd urge anyone with an opinion to sign up and discuss it there.  Alternatively you can put your thoughts on this issue here by using the comment box below.</p>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2008/07/21/does-anybody-really-use-rss-feeds/">Does anybody really use RSS Feeds?</a></h1>
			
			<time datetime="2008-07-21" pubdate=""><a href="/weblog/2008/07/21/does-anybody-really-use-rss-feeds/">July 21, 2008</a></time>
    	</header>
    	<div>
			<p>I've been using RSS feeds for several years now and find them incredibly useful for keeping up to date with blogs and news sites.  However, today I was talking to another web developer who said that he hates RSS feeds and would much rather have email updates when a site gets updated rather than having to add an RSS feed to his email client.</p>

<p>Now I wouldn't find this strange coming from a lot of people as I can understand that a lot of people have no idea about RSS and would get confused trying to work out what an aggregator is.  But from a web developer?  Come on!  If the people that develop websites with RSS can't even be bothered to use it then what chance is there of the general populous using it?</p>

<p>I use mac mail to manage all of my RSS feeds and find that it does a fairly good job - everything gets synced over to my iPhone as well so I can keep up to date when I'm on the train etc.  I also have a few RSS feeds on my <a href="http://www.google.com/ig" rel="external">iGoogle homepage</a> so I can see the latest <a href="http://xkcd.com/" rel="external">xkcd</a> or <a href="http://www.dilbert.com/" rel="external">dilbert</a> strip whilst I'm pretending to work.  Now I'm fairly sure you can set Outlook up to receive RSS feeds - so why doesn't this developer do that?  Apparently, if Windows were to crash (unlikely but stay with me on this) then he would lose all of the RSS feeds he was tracking and therefore have to add them again so it's not worth doing.  "You could use <a href="http://www.google.com/help/reader/tour.html" rel="external">Google Reader</a> or any other number of online aggregators" say I.  "Too much effort" says he.  I give up.</p>

<p>So, in the next day or so there will be a "sign up" button on this site so that those of you who can't be bothered with RSS can get email alerts when a new message is posted.  I've also set up a twitter account which will be syndicating the posts on this site as and when they happen - the account to follow is <a href="http://twitter.com/bendodson_com/" title="Stay up to date with bendodson.com/weblog on Twitter" rel="external">bendodson_com</a>.  Oh, and for those of you that have moved into the 21st century, here is the <a href="https://bendodson.com/weblog/rss.xml" rel="external">good old RSS feed</a>.</p>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2008/07/19/website-upgrades-finally-completed/">Website upgrades finally completed</a></h1>
			
			<time datetime="2008-07-19" pubdate=""><a href="/weblog/2008/07/19/website-upgrades-finally-completed/">July 19, 2008</a></time>
    	</header>
    	<div>
			<p>Some of the more regular visitors amongst you may have noticed that for the past month or so, <a href="https://bendodson.com/weblog/" title="PHP Developer Ben Dodson">bendodson.com/weblog</a> has been in a mild state of flux - I'm happy to say that everything is now completed and working fully!</p>

<p>I hurried the uploading of the new design as I had some spare time at <a href="http://flickr.com/photos/bendodson/sets/72157605753188176/" title="Mashed 08 at Alexandra Palace" rel="external">Mashed</a> and thought it would be a good idea to get the new site up and running in any state.  Then, the knowledge that my site might not be working would spur me on to fixing it.  A good theory, but apparently not good in practice.</p>

<p>There were several bugs in IE6 (there always are), the site was taking too long to load, and the contact form didn't work at all.</p>

<p>But now, the site has been optimised to a grade A level (according to <a href="http://developer.yahoo.com/yslow/" rel="external">YSlow</a>), the IE6 bugs have been fixed, and email now works from my server so the contact form is working again!</p>

<p>I'll be continuing to make little tweaks and upgrades here and there, but I'll also be returning to the blogging scene and keeping the site regularly updated with various development news.  As a taster, I have recently been playing with a new iPhone 3G, fire eagle, a montage making script that uses flickr, and Google Optimizer (although not all at the same time) so stay tuned!</p>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2008/06/21/new-website-goes-live/">New website goes live!</a></h1>
			
			<time datetime="2008-06-21" pubdate=""><a href="/weblog/2008/06/21/new-website-goes-live/">June 21, 2008</a></time>
    	</header>
    	<div>
			<p>I've finally got around to giving the site a visual refresh which can now be viewed here at <a href="https://bendodson.com/weblog/">bendodson.com/weblog</a> - There are a few bugs (mainly IE6) to iron out but on the whole it should be working!</p>

<p>The site was redesigned by <a href="http://lizahayes.co.uk" rel="external">Liza Hayes</a> who took her inspiration mainly from Doctor Who!  I've been building it slowly over the past few months, but I'm currently at <a href="http://upcoming.yahoo.com/event/472718" rel="external">Mashed</a> so decided whilst I had the time dedicated to coding I really should get on and finish it!</p>
<p>There will be various updates to the site over the next few days so keep posted!</p>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2008/03/16/rss-feed-of-the-london-underground-tube-status/">RSS Feed of the London Underground Tube Status</a></h1>
			
			<time datetime="2008-03-16" pubdate=""><a href="/weblog/2008/03/16/rss-feed-of-the-london-underground-tube-status/">March 16, 2008</a></time>
    	</header>
    	<div>
			<p><strong>Please note that this page is now outdated - for any updates to the London Underground, you should use my dedicated <a href="https://bendodson.com/weblog/2014/08/19/retiring-tubeupdates-and-wikilocation/">Tube Status API and RSS feeds</a></strong></p>

<p>I've been spending some time making an RSS feed of the London Underground tube status as I've been working on a few projects that could use one.  You would think that <a href="http://www.tfl.gov.uk" rel="external">Transport for Londons</a> nice web 2.0 style website would provide this basic requirement but alas they don't.  There are a few developers out there who have written some scraping scripts to convert this information, but most of them no longer work as they haven't been updated to work with the new site.</p>

<p>Previously I have used the script at <a href="http://conor.net/code/tube/" rel="external">conor.net</a> to power any projects requiring a tube RSS feed but this went down a few weeks ago when I was in the middle of some crucial testing. So, like any other crazy developer would, I decided to write my own PHP scraping script that would generate me a nice RSS feed to basically tell me TFL had messed up my journey home!</p>

<p>For those of you just looking for an RSS feed of the London Underground tube delays, you can find it at <a href="https://bendodson.com/weblog/2014/08/19/retiring-tubeupdates-and-wikilocation/rss/" rel="external">http://tubeupdates.com/rss/</a> - This is automatically updated every minute and will email me if anything goes wrong so I can fix it!  If you are going to use it for any projects, please <a href="https://bendodson.com/contact/">let me know</a> so that I can monitor bandwidth, etc.  If you are interested in how it works, then the code that powers this is below - feel free to use and modify it for your own projects:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="c1">// This file should be run on a CRON job every 5 minutes.</span>
<span class="c1">// The server will need to be able to write to this folder in order to create the XML file.</span>

<span class="nv">$array</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;bakerloo&#39;</span><span class="p">,</span>
        <span class="s1">&#39;central&#39;</span><span class="p">,</span>
        <span class="s1">&#39;circle&#39;</span><span class="p">,</span>
        <span class="s1">&#39;district&#39;</span><span class="p">,</span>
        <span class="s1">&#39;east london&#39;</span><span class="p">,</span>
        <span class="s1">&#39;hammersmith &amp; city&#39;</span><span class="p">,</span>
        <span class="s1">&#39;jubilee&#39;</span><span class="p">,</span>
        <span class="s1">&#39;metropolitan&#39;</span><span class="p">,</span>
        <span class="s1">&#39;northern&#39;</span><span class="p">,</span>
        <span class="s1">&#39;piccadilly&#39;</span><span class="p">,</span>
        <span class="s1">&#39;victoria&#39;</span><span class="p">,</span>
        <span class="s1">&#39;waterloo &amp; city&#39;</span>
        <span class="p">);</span>

<span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$array</span> <span class="k">as</span> <span class="nv">$ref</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$id</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="nv">$ref</span><span class="p">);</span>
    <span class="nv">$id</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s1">&#39;&amp;&#39;</span><span class="p">,</span><span class="s1">&#39;and&#39;</span><span class="p">,</span><span class="nv">$id</span><span class="p">);</span>

    <span class="nv">$lines</span><span class="p">[</span><span class="nv">$i</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$id</span><span class="p">;</span>
    <span class="nv">$lines</span><span class="p">[</span><span class="nv">$i</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">ucwords</span><span class="p">(</span><span class="nv">$ref</span><span class="p">);</span>
    <span class="nv">$lines</span><span class="p">[</span><span class="nv">$i</span><span class="p">][</span><span class="s1">&#39;url&#39;</span><span class="p">]</span> <span class="o">=</span> 
        <span class="s1">&#39;http://www.tfl.gov.uk/tfl/livetravelnews/realtime/tube/tube-&#39;</span> <span class="o">.</span> <span class="nv">$id</span> <span class="o">.</span> <span class="s1">&#39;-now.html&#39;</span><span class="p">;</span>

    <span class="nv">$i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$lines</span> <span class="k">as</span> <span class="nv">$line</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$file</span> <span class="o">=</span> <span class="nb">file_get_contents</span><span class="p">(</span><span class="nv">$line</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]);</span>
    <span class="nv">$needle</span> <span class="o">=</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$line</span><span class="p">[</span><span class="s1">&#39;ref&#39;</span><span class="p">])</span> <span class="o">.</span> <span class="s1">&#39; LINE:&#39;</span><span class="p">;</span>
    <span class="nv">$pos</span> <span class="o">=</span> <span class="nb">strpos</span><span class="p">(</span><span class="nv">$file</span><span class="p">,</span><span class="nv">$needle</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$pos</span> <span class="o">!==</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$pos</span> <span class="o">+=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$needle</span><span class="p">);</span>
        <span class="nv">$end</span> <span class="o">=</span> <span class="nb">strpos</span><span class="p">(</span><span class="nv">$file</span><span class="p">,</span><span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">,</span><span class="nv">$pos</span><span class="p">);</span>
         <span class="nv">$status</span> <span class="o">=</span> <span class="nb">strip_tags</span><span class="p">(</span><span class="nb">substr</span><span class="p">(</span><span class="nv">$file</span><span class="p">,</span><span class="nv">$pos</span><span class="p">,(</span><span class="nv">$end</span><span class="o">-</span><span class="nv">$pos</span><span class="p">)));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nv">$status</span> <span class="o">=</span> <span class="s1">&#39;A good service is currently running.&#39;</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="nv">$lines</span><span class="p">[</span><span class="nv">$i</span><span class="p">][</span><span class="s1">&#39;status&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$status</span><span class="p">;</span>
    <span class="nv">$i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$now</span> <span class="o">=</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">);</span>

<span class="nv">$xml</span> <span class="o">=</span> <span class="o">&lt;&lt;&lt;</span><span class="nx">XML</span>

<span class="o">&lt;</span><span class="nx">rss</span> <span class="nx">version</span><span class="o">=</span><span class="s2">&quot;2.0&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">channel</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">London</span> <span class="nx">Tube</span> <span class="nx">Updates</span><span class="o">&lt;/</span><span class="nx">title</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nb">link</span><span class="o">&gt;</span><span class="nx">http</span><span class="o">://</span><span class="nx">www</span><span class="o">.</span><span class="nx">tfl</span><span class="o">.</span><span class="nx">gov</span><span class="o">.</span><span class="nx">uk</span><span class="o">/</span><span class="nx">tfl</span><span class="o">/</span><span class="nx">livetravelnews</span><span class="o">/</span><span class="nx">realtime</span><span class="o">/</span><span class="nx">tube</span><span class="o">/</span><span class="k">default</span><span class="o">.</span><span class="nx">html</span><span class="o">&lt;/</span><span class="nb">link</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">description</span><span class="o">&gt;</span><span class="nx">The</span> <span class="nx">latest</span> <span class="nx">London</span> <span class="nx">Underground</span> <span class="nx">tube</span> <span class="nx">update</span> <span class="nx">information</span><span class="o">&lt;/</span><span class="nx">description</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">language</span><span class="o">&gt;</span><span class="nx">en</span><span class="o">&lt;/</span><span class="nx">language</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">pubDate</span><span class="o">&gt;</span><span class="nv">$now</span><span class="o">&lt;/</span><span class="nx">pubDate</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">lastBuildDate</span><span class="o">&gt;</span><span class="nv">$now</span><span class="o">&lt;/</span><span class="nx">lastBuildDate</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">docs</span><span class="o">&gt;</span><span class="nx">http</span><span class="o">://</span><span class="nx">tube</span><span class="o">.</span><span class="nx">bendodson</span><span class="o">.</span><span class="nx">com</span><span class="o">/</span><span class="nx">weblog</span><span class="o">/&lt;/</span><span class="nx">docs</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">webMaster</span><span class="o">&gt;</span><span class="nx">ben</span><span class="o">@</span><span class="nx">bendodson</span><span class="o">.</span><span class="nx">com</span> <span class="p">(</span><span class="nx">Ben</span> <span class="nx">Dodson</span><span class="p">)</span><span class="o">&lt;/</span><span class="nx">webMaster</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">generator</span><span class="o">&gt;</span><span class="nx">PHP</span> <span class="nx">script</span> <span class="nx">by</span> <span class="nx">Ben</span> <span class="nx">Dodson</span><span class="o">&lt;/</span><span class="nx">generator</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">ttl</span><span class="o">&gt;</span><span class="mi">5</span><span class="o">&lt;/</span><span class="nx">ttl</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">image</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">Transport</span> <span class="k">for</span> <span class="nx">London</span><span class="o">&lt;/</span><span class="nx">title</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">url</span><span class="o">&gt;</span><span class="nx">http</span><span class="o">://</span><span class="nx">www</span><span class="o">.</span><span class="nx">tfl</span><span class="o">.</span><span class="nx">gov</span><span class="o">.</span><span class="nx">uk</span><span class="o">/</span><span class="nx">tfl</span><span class="o">-</span><span class="k">global</span><span class="o">/</span><span class="nx">images</span><span class="o">/</span><span class="nx">roundel</span><span class="o">.</span><span class="nx">gif</span><span class="o">&lt;/</span><span class="nx">url</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nb">link</span><span class="o">&gt;</span><span class="nx">http</span><span class="o">://</span><span class="nx">www</span><span class="o">.</span><span class="nx">tfl</span><span class="o">.</span><span class="nx">gov</span><span class="o">.</span><span class="nx">uk</span><span class="o">/&lt;/</span><span class="nb">link</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">width</span><span class="o">&gt;</span><span class="mi">52</span><span class="o">&lt;/</span><span class="nx">width</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">height</span><span class="o">&gt;</span><span class="mi">44</span><span class="o">&lt;/</span><span class="nx">height</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">description</span><span class="o">&gt;</span><span class="nx">Transport</span> <span class="k">for</span> <span class="nx">London</span> <span class="nx">Logo</span><span class="o">&lt;/</span><span class="nx">description</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="nx">image</span><span class="o">&gt;</span>
<span class="nx">XML</span><span class="p">;</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$lines</span> <span class="k">as</span> <span class="nv">$line</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$xml</span> <span class="o">.=</span> <span class="s1">&#39;&lt;item&gt;&#39;</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">;</span>
    <span class="nv">$xml</span> <span class="o">.=</span> <span class="s1">&#39;&lt;title&gt;&#39;</span> <span class="o">.</span> <span class="nb">htmlentities</span><span class="p">(</span><span class="nb">ucwords</span><span class="p">(</span><span class="nv">$line</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]))</span> <span class="o">.</span> <span class="s1">&#39;&lt;/title&gt;&#39;</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">;</span>
    <span class="nv">$xml</span> <span class="o">.=</span> <span class="s1">&#39;&lt;link&gt;&#39;</span> <span class="o">.</span> <span class="nv">$line</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;&lt;/link&gt;&#39;</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">;</span>
    <span class="nv">$xml</span> <span class="o">.=</span> <span class="s1">&#39;&lt;description&gt;&#39;</span> <span class="o">.</span> <span class="nb">htmlentities</span><span class="p">(</span><span class="nv">$line</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">])</span> <span class="o">.</span> <span class="s1">&#39;&lt;/description&gt;&#39;</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">;</span>
    <span class="nv">$xml</span> <span class="o">.=</span> <span class="s1">&#39;&lt;/item&gt;&#39;</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>
        
<span class="nv">$xml</span> <span class="o">.=</span> <span class="s1">&#39;&lt;/channel&gt;&#39;</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="nv">$xml</span> <span class="o">.=</span> <span class="s1">&#39;&lt;/rss&gt;&#39;</span><span class="p">;</span>

<span class="nb">file_put_contents</span><span class="p">(</span><span class="s1">&#39;rss.xml&#39;</span><span class="p">,</span><span class="nv">$xml</span><span class="p">);</span>

<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<p>As I mentioned earlier, I am working on a few projects that utilise this script and I shall be making those available shortly.  However, for a sneak peek, you can check out <a href="https://bendodson.com/weblog/2014/08/19/retiring-tubeupdates-and-wikilocation/" rel="external">Tube Updates</a>, an API for any developer that would like to make use of this data.  There are still a few improvements to be made but you get the general idea!</p>


		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2008/03/01/firefox-extensions-updated-for-beta-3-compatibility/">Firefox extensions updated for Beta 3 compatibility</a></h1>
			
			<time datetime="2008-03-01" pubdate=""><a href="/weblog/2008/03/01/firefox-extensions-updated-for-beta-3-compatibility/">March 01, 2008</a></time>
    	</header>
    	<div>
			<p>I've spent some time updating my firefox extensions so that all of them work with <a href="http://www.mozilla.com/en-US/firefox/all-beta.html" rel="external">Firefox 3 Beta 3</a>. At present they can only be downloaded from this site as it takes the Mozilla Addons team a few days to approve updates.  My <a href="https://bendodson.com/weblog/extensions/">extensions page</a> is now back up and running though and contains details on all 3 of my Firefox Extensions (Font Finder, Stop! Hammertime!, and STOP in the name of love) as well as download links for the new releases.</p>

<p>I won't be making any further updates to the stop buttons (apart from making them work with future version of Firefox) but I will be continuing development on Font Finder which could benefit from a visual overhaul as well as a clipboard function!  I'll be updating on here when it happens so sign up to the <a href="https://bendodson.com/weblog/rss.xml">RSS feed</a> for the latest news!</p>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2008/02/28/google-extended-encoding-made-easy/">Google extended encoding made easy!</a></h1>
			
			<time datetime="2008-02-28" pubdate=""><a href="/weblog/2008/02/28/google-extended-encoding-made-easy/">February 28, 2008</a></time>
    	</header>
    	<div>
			<p>I've been having a play around with <a href="http://code.google.com/apis/chart" rel="external">Google Charts</a> recently but came across a problem with the range of values that can be used. With <a href="http://code.google.com/apis/chart/#simple" rel="external">simple encoding</a>, you can only have values between 0 and 64, and with <a href="http://code.google.com/apis/chart/#text" rel="external">text encoding</a> only values between 0 to 100.  This is annoying when dealing with things such as tracking website hits or weight when values are typically much higher.</p>

<p>I played around with some functions to try and factorise the numbers so that they would be in the range of 0 to 100 but this didn't go so well so I decided to tackle Google's <a href="http://code.google.com/apis/chart/#extended" rel="external">extended encoding</a>.</p>

<p>This is a system of encoding that basically takes a pair of alphanumeric characters and translates them into a number between 0 and 4095 (much better!).  So for example, B9 translates to 125 and .a would translate to 4058.  However, although this has a much larger range, it's a bit harder to get your head around and so what is needed is a simple function (or two) to convert to and from the extended encoding.  Predictably, I have said PHP functions here:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">function</span> <span class="nf">array_to_extended_encoding</span><span class="p">(</span><span class="nv">$array</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$characters</span> <span class="o">=</span> <span class="s1">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-.&#39;</span><span class="p">;</span>

    <span class="nv">$encoding</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$array</span> <span class="k">as</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$first</span> <span class="o">=</span> <span class="nb">floor</span><span class="p">(</span><span class="nv">$value</span> <span class="o">/</span> <span class="mi">64</span><span class="p">);</span>
        <span class="nv">$second</span> <span class="o">=</span> <span class="nv">$value</span> <span class="o">%</span> <span class="mi">64</span><span class="p">;</span>
        <span class="nv">$encoding</span> <span class="o">.=</span> <span class="nv">$characters</span><span class="p">[</span><span class="nv">$first</span><span class="p">]</span> <span class="o">.</span> <span class="nv">$characters</span><span class="p">[</span><span class="nv">$second</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nv">$encoding</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">function</span> <span class="nf">extended_encoding_to_array</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$characters</span> <span class="o">=</span> <span class="s1">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-.&#39;</span><span class="p">;</span>  

    <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nv">$i</span><span class="o">&lt;</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$characters</span><span class="p">);</span><span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$first</span><span class="p">[</span><span class="nv">$characters</span><span class="p">[</span><span class="nv">$i</span><span class="p">]]</span> <span class="o">=</span> <span class="nv">$i</span> <span class="o">*</span> <span class="mi">64</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nv">$i</span><span class="o">&lt;</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$characters</span><span class="p">);</span><span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$second</span><span class="p">[</span><span class="nv">$characters</span><span class="p">[</span><span class="nv">$i</span><span class="p">]]</span> <span class="o">=</span> <span class="nv">$i</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nv">$pairs</span> <span class="o">=</span> <span class="nb">str_split</span><span class="p">(</span><span class="nv">$string</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$pairs</span> <span class="k">as</span> <span class="nv">$pair</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$value</span> <span class="o">=</span> <span class="nv">$first</span><span class="p">[</span><span class="nv">$pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]];</span>
        <span class="nv">$value</span> <span class="o">+=</span> <span class="nv">$second</span><span class="p">[</span><span class="nv">$pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]];</span>
        <span class="nv">$values</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nv">$values</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">?&gt;</span><span class="x"></span></code></pre></div>

<p>They work fairly simply by taking advantage of PHP's casting methods in that a string can be interpreted as an array.</p>

<p>In the first function, <code>array_to_extended_encoding()</code>, an array of numbers should be passed e.g. <code>array(250,39,400,1904,2)</code>.  The function first lists all of the extended encoding characters in order as one string named <code>$characters</code>.  It then loops through our array of numbers, and creates two variables; <code>$first</code> and <code>$second</code>.  In <code>$first</code>, we store the number from our array divided by 64 and rounded down using the <a href="http://www.php.net/floor" rel="external"><code>floor()</code></a> function.  For <code>$second</code>, we use the modulus operator (<code>%</code>) to find the remainder once the number from the array is divided by 64.  We then take both <code>$first</code> and <code>$second</code> and work out the encoding by looking up the numbers from within the <code>$characters</code> cast as an array.  This gives us 2 characters which make up the extended encoding for the number.  We keep extending the value of <code>$encoding</code> until we end up with a string representing the full extended encoding of the array passed to the function.</p>

<p>The second function, <code>extended_encoding_to_array()</code>, is slightly more advanced.  It accepts a string as its only parameter which should be an extended encoding (e.g. <code>$encoding = 'AA..B9aC'</code>).  We first list all of the characters in a string as we did for our previous function, but then we create two arrays which will contain all of the numbers we need to decode the extended encoding.  In <code>$first</code>, we create an array of each character in the <code>$characters</code> string as a number multiplied by 64 (so the letter b would be 64 as it is signified by number 1 in the array multiplied by 64).  Within <code>$second</code> we perform a similar operation but instead just assign the number of the character rather than multiplying it by 64.  This gives us two arrays, with keys relating to each character that can be used as an encoding and values as the numerical equivalent.  It is now a simple case of splitting the string that was passed to the function into chunks of 2 characters using <a href="http://www.php.net/str_split" rel="external"><code>str_split()</code></a> and looping through the returned array setting the value of each character within the pair from the arrays we created.  We then add the two returned numbers together to give us the decoded figure and add it to an array which will be returned by the function.</p>

<p>Simple?  It has certainly made things a lot easier for the functions I'm writing for a PHP wrapper for Google Charts and hopefully it will help somebody else as well.   If you have any questions or comments, please <a href="https://bendodson.com/contact/">get in touch</a>.</p>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2008/02/26/firefox-extensions-page-will-brb/">Firefox Extensions page will be right back!</a></h1>
			
			<time datetime="2008-02-26" pubdate=""><a href="/weblog/2008/02/26/firefox-extensions-page-will-brb/">February 26, 2008</a></time>
    	</header>
    	<div>
			<p>As some of you may have noticed, the new site design has caused the Firefox Extensions page to go awry.  This will return shortly (along with a few new extensions) but for the time being you are better to go the Mozilla Addons site to download the extensions.</p>

<p>
<strong>Stop! Hammertime</strong> - <a href="https://addons.mozilla.org/en-US/firefox/addon/974" rel="external">https://addons.mozilla.org/en-US/firefox/addon/974</a><br />
<strong>Font Finder</strong> - <a href="https://addons.mozilla.org/en-US/firefox/addon/4415" rel="external">https://addons.mozilla.org/en-US/firefox/addon/4415</a><br />
<strong>Stop in the Name of Love</strong> - <a href="https://addons.mozilla.org/en-US/firefox/addon/3771" rel="external">https://addons.mozilla.org/en-US/firefox/addon/3771</a>
</p>
<p><strong>Update: </strong> The extensions page is now up and running again and can be viewed at <a href="https://bendodson.com/weblog/extensions/">https://bendodson.com/weblog/extensions/</a></p>

		</div>
	</article>
    
	<article>
		<header>
     		
				<h1><a href="/weblog/2008/02/25/phpmyopenid-beta-testers-required/">phpMyOpenID Beta Testers Required!</a></h1>
			
			<time datetime="2008-02-25" pubdate=""><a href="/weblog/2008/02/25/phpmyopenid-beta-testers-required/">February 25, 2008</a></time>
    	</header>
    	<div>
			<p>I've finally got around to adding full multi-user support for my <a href="http://labs.bendodson.com/weblog/phpmyopenid/">phpMyOpenID</a> script and I'm now looking for some beta testers to help find any bugs that are lurking around.</p>

		</div>
	</article>
    
	
</section>


<section id="pagination">
     
	
    
      
      	<a href="/weblog/page/19/" title="Next Page" class="pagination-next">Newer Entries &raquo; </a>
      
    
</section>

		
		<footer>
			<p>I perform all freelance work through my company <strong>Dodo Apps Ltd</strong> (07856552) registered at The Bristol Office, 2nd Floor, 5 High Street, Westbury on Trym, Bristol, England, BS9 3BY</p>
		</footer>

	</div>


</body>
</html>
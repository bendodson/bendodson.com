<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	
	
		<meta property="og:title" content="Customising a website for iOS 13 / macOS Mojave Dark Mode">
		<meta property="og:description" content="A quick piece of code to update my website for Dark Mode on iOS 13 (and macOS Mojave)">
		<meta property="og:url" content="https://bendodson.com/weblog/2019/06/12/website-dark-mode-ios-13-macos-mojave/">
		
		<meta name="twitter:title" content="Customising a website for iOS 13 / macOS Mojave Dark Mode">
		<meta name="twitter:description" content="A quick piece of code to update my website for Dark Mode on iOS 13 (and macOS Mojave)">
		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:site" content="@bendodson">
		<meta name="twitter:creator" content="@bendodson">

		
			<meta property="og:image" content="https://bendodson.s3.amazonaws.com/weblog/2019/bendodson-darkmode.jpg">
			<meta name="twitter:image" content="https://bendodson.s3.amazonaws.com/weblog/2019/bendodson-darkmode.jpg">			
		
	


	<link href='https://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'>
	<link rel="alternate" type="application/rss+xml" title="Ben Dodson, iOS Developer" href="https://bendodson.com/rss.xml" />
	<link rel="stylesheet" href="/styles-2022-04-13.css" />
	<link rel="stylesheet" href="/highlight-2018-02-23.css" />
	<link rel="icon" href="https://bendodson.s3.amazonaws.com/bendodson.com/favicon.ico">
	<link rel="apple-touch-icon" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-iphone.png">
	<link rel="apple-touch-icon" sizes="76x76" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-ipad.png">
	<link rel="apple-touch-icon" sizes="120x120" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-iphone-retina.png">
	<link rel="apple-touch-icon" sizes="152x152" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-ipad-retina.png">
	<link rel="apple-touch-icon" sizes="180x180" href="https://bendodson.s3.amazonaws.com/bendodson.com/touch-icon-ipad-retina.png">
	<title>Customising a website for iOS 13 / macOS Mojave Dark Mode</title>
</head>
<body>

	<div id="wrapper">

		<header>
			<hgroup>
				<h1><a href="/">Ben Dodson</a></h1>
				<h2>Freelance iOS, macOS, Apple Watch, and Apple TV Developer</h2>
			</hgroup>
			<nav>
				<ul>
					<li><a href="/">Home</a></li><li><a href="/weblog/">Blog</a></li><li><a href="/about/">About</a></li><li><a href="/clients/">Portfolio</a></li><li><a href="/apps/">My Apps</a></li><li><a href="/projects/">Projects</a></li><li><a href="/contact/">Contact</a></li>
				</ul>
				<div class="divider"></div>
			</nav>
		</header>

		<section id="posts">
	<article>
		<header>
     		
				<h1><a href="/weblog/2019/06/12/website-dark-mode-ios-13-macos-mojave/">Customising a website for iOS 13 / macOS Mojave Dark Mode</a></h1>
			
			<time datetime="2019-06-12" pubdate=""><a href="/weblog/2019/06/12/website-dark-mode-ios-13-macos-mojave/">June 12, 2019</a></time>
    	</header>
    	<div>
			<p>On our <a href="https://thecheckedshirt.com/episode-35"><em>The Checked Shirt</em></a> podcast yesterday, Jason and I were discussing the announcements at WWDC and in particular the new “Dark Mode” in iOS 13<sup id="fnref:darkmodehypo" role="doc-noteref"><a href="#fn:darkmodehypo" class="footnote" rel="footnote">1</a></sup>. One question Jason asked (as I’m running the iOS 13 beta) is how Safari treats websites; are the colours suddenly inverted?</p>

<p>No. It turns out that just before the release of macOS Mojave last year, the W3C added a draft spec for <code class="language-plaintext highlighter-rouge">prefers-color-scheme</code> which is supported by Safari (from v12.1), Chrome (from v76), and Firefox (from v67). Since iOS 13 also includes a dark mode, Mobile Safari now supports this selector as well.</p>

<p>There are three possible values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">no-preference</code> (evaluates as false): the default value if the device doesn’t support a mode or if the user hasn’t made a choice</li>
  <li><code class="language-plaintext highlighter-rouge">light</code>: the user has chosen a light theme</li>
  <li><code class="language-plaintext highlighter-rouge">dark</code>: the user has chosen a dark theme</li>
</ul>

<p>In practice, usage is insanely simple. For my own website, my CSS is entirely for the light theme and then I use <code class="language-plaintext highlighter-rouge">@media (prefers-color-scheme: dark)</code> to override the relevant pieces for my dark mode like such:</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="k">@media</span> <span class="p">(</span><span class="n">prefers-color-scheme</span><span class="p">:</span> <span class="n">dark</span><span class="p">)</span> <span class="p">{</span>
    <span class="nt">body</span> <span class="p">{</span>
        <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
        <span class="nl">background</span><span class="p">:</span> <span class="m">#000</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nt">a</span> <span class="p">{</span>
        <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
        <span class="nl">border-bottom</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#fff</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nt">footer</span> <span class="nt">p</span> <span class="p">{</span>
        <span class="nl">color</span><span class="p">:</span> <span class="m">#aaa</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nt">header</span> <span class="nt">h1</span><span class="o">,</span>
    <span class="nt">header</span> <span class="nt">h2</span> <span class="p">{</span>
        <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nt">header</span> <span class="nt">h1</span> <span class="nt">a</span> <span class="p">{</span>
        <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nt">nav</span> <span class="nt">ul</span> <span class="nt">li</span> <span class="p">{</span>
        <span class="nl">background</span><span class="p">:</span> <span class="m">#000</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nc">.divider</span> <span class="p">{</span>
        <span class="nl">border-bottom</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#ddd</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>The result is a website that seamlessly matches the theme that the user has selected for their device:</p>

<p><img src="https://bendodson.s3.amazonaws.com/weblog/2019/bendodson-darkmode.jpg" alt="Enabling Dark Mode on a website for iOS 13" width="800" height="600" /></p>

<p>A nice touch with this is that the update is instantaneous, at least on iOS 13 and macOS Mojave with Safari; simply change the theme and the CSS will update without the need for a refresh!</p>

<p>I haven’t seen many websites provide an automatic dark mode switcher but I have a feeling it will become far more popular once iOS 13 is released later this year.</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:darkmodehypo" role="doc-endnote">
      <p>Of which I am rightly a hypocrite having complained for years about the never-ending demand for such a mode only to find that I quite like using it… <a href="#fnref:darkmodehypo" class="reversefootnote" role="doc-backlink">&#8617;&#xfe0e;</a></p>
    </li>
  </ol>
</div>

		</div>
	</article>
</section>

<section id="pagination">
	 
		<a href="/weblog/2019/08/19/introducing-apple-tv-movies-artwork-finder/" title="Next Article" class="pagination-next">Introducing the Apple TV Shows & Movies Artwork Finder &raquo;</a>
    
	 
		<a href="/weblog/2019/06/11/detecting-text-with-vnrecognizetextrequest-in-ios-13/" title="Previous Article" class="pagination-previous">&laquo; Detecting text with VNRecognizeTextRequest in iOS 13</a>
    
</section>
		
		<footer>
			<p>I perform all freelance work through my company <strong>Dodo Apps Ltd</strong> (07856552) registered at The Bristol Office, 2nd Floor, 5 High Street, Westbury on Trym, Bristol, England, BS9 3BY</p>
		</footer>

	</div>


</body>
</html>